{% extends 'base.html' %}

{% block content %}

<!-- - - - - - - - -  Hero Section - - - - - - - -  -->
<section id="hero" class="page-hero-1">
    <div class="container position-relative">
        <div class="row gy-5" data-aos="fade-in">
        <div class="col-lg-12  order-lg-1 d-flex flex-column align-items-left justify-content-start text-left caption">
            <h2>{{secOffers['Tytul']}}</h2>
            <p>Oferta Specjalna</p>
        </div>
        </div>
        <div class="breadcrumb">
        <ul>
            <li><strong>Nawigacja:</strong></li>
            <li><a href="/">Strona Główna</a></li>
            <li><i class="bi bi-chevron-double-right"></i></li>
            <li>{{pageTitle}}</li>
        </ul>
        </div>
    </div>
</section>
<!-- End Hero Section -->
<main id="main" class="single-page">
    <section class="single-page">
        <div class="container" data-aos="fade-up">
        <div class="row">
            <div class="col-lg-12">
            <h2 class="white-text">{{secOffers['Tytul']}}</h2>
            <p>
                {{secOffers['Opis']}}
            </p>
            <p class="white-text font-size-large">
                <strong>Parametry:</strong>
            </p>
            <ul>
                <li><i class="bi bi-arrow-right-circle-fill orange-text"></i> <strong class="white-text">Rodzaj: </strong> {{secOffers['Rodzaj']}}</li>
                <li><i class="bi bi-arrow-right-circle-fill orange-text"></i> <strong class="white-text">Lokalizacja: </strong> {{secOffers['Lokalizacja']}}</li>
                <li><i class="bi bi-arrow-right-circle-fill orange-text"></i> <strong class="white-text">Cena: </strong> {{secOffers['Cena']}}</li>
                <li><i class="bi bi-arrow-right-circle-fill orange-text"></i> <strong class="white-text">Metraz: </strong> {{secOffers['Metraz']}}</li>
                <li><i class="bi bi-arrow-right-circle-fill orange-text"></i> <strong class="white-text">Liczba Pokoi: </strong> {{secOffers['LiczbaPokoi']}}</li>
            </ul>
            <br />
            <div class="row">

                <!-- <div class="col-lg-6">
                <img src="{{foto}}" class="img-fluid mb-4" alt="">
                </div> -->
                <div id="gallery-container">
                {% for foto in secOffers['Zdjecia'] %}
                <img src="{{foto}}" alt="" class="img-fluid mb-4" data-bs-toggle="modal" data-bs-target="#galleryModal">
                {% endfor %}
                </div>
            </div>
            
            <br />

            <h3 class="white-text">Zapraszamy do skorzystania z oferty</h3>
            <p>
                Nie czekaj – dołącz do grona naszych zadowolonych klientów. Skontaktuj się z nami już dziś, aby dowiedzieć się więcej 
                o tej lub innej naszej ofercie.
            </p>
        </div>
        </div>
        </div>
    </section>
{% endblock %}
{% block end_of_body %}
<!-- Modal z karuzelą -->
<div class="modal fade" id="galleryModal" tabindex="-1" aria-labelledby="galleryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content bg-dark ">
            <div class="modal-body">
            <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
                <!-- Wnętrze karuzeli z elementami -->
                <div class="carousel-inner" id="gallery-container">
                    {% for foto in secOffers['Zdjecia'] %}
                        {% if loop.first %}
                        <div class="carousel-item active">
                            <img src="{{foto}}" class="object-fit-cover rounded d-block w-100" alt="">
                        </div>
                        {% else %}
                        <div class="carousel-item">
                            <img src="{{foto}}" class="object-fit-cover rounded d-block w-100" alt="">
                        </div>
                        {% endif %}
                    {% endfor %}
                    <!-- <div class="carousel-item">
                        <img src="images\our-work\full\2.jpg" class="object-fit-cover rounded d-block w-100" alt="Opis zdjęcia 2">
                    </div> -->
                    <!-- Dodaj więcej elementów karuzeli według wzoru -->
                </div>
                <!-- Przyciski nawigacyjne -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Poprzedni</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Następny</span>
                </button>
            </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block bottom_scripts %}
<script>
//     document.querySelectorAll('.gallery-img').forEach((item, index) => {
//     item.addEventListener('click', () => {
//       const carouselInner = document.querySelector('.carousel-inner');
//       Array.from(carouselInner.children).forEach((carouselItem, idx) => {
//         carouselItem.classList.remove('active');
//         if (idx === index) {
//           carouselItem.classList.add('active');
//         }
//       });
//     });
//   });
    document.querySelectorAll('.gallery-img').forEach(item => {
        item.addEventListener('click', () => {
            const index = item.getAttribute('data-index'); // Pobiera indeks klikniętego obrazka
            const carouselInner = document.querySelector('.carousel-inner');
            Array.from(carouselInner.children).forEach((carouselItem, idx) => {
                carouselItem.classList.remove('active'); // Usuwa klasę active z wszystkich elementów
                if (idx.toString() === index) {
                    carouselItem.classList.add('active'); // Dodaje klasę active do klikniętego obrazka
                }
            });
        });
    });
</script>

{% endblock %}